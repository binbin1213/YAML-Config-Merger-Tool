# YAML Config Merger Tool - ä»£ç å®¡æŸ¥æŠ¥å‘Š

**å®¡æŸ¥æ—¥æœŸ**: 2025-12-28
**é¡¹ç›®ç‰ˆæœ¬**: v1.0.0
**å®¡æŸ¥äººå‘˜**: Claude Code
**å®¡æŸ¥èŒƒå›´**: å…¨é¢ä»£ç è´¨é‡å®¡æŸ¥ã€æ€§èƒ½åˆ†æã€å®‰å…¨æ€§æ£€æŸ¥ã€UXè¯„ä¼°

---

## ğŸ“Š æ€»ä½“è¯„åˆ†

| è¯„ä¼°ç»´åº¦ | è¯„åˆ† | è¯´æ˜ |
|---------|------|------|
| **ä»£ç è´¨é‡** | â­â­â­â­ (8/10) | æ¶æ„æ¸…æ™°ï¼Œä½¿ç”¨äº†ç°ä»£ Angular ç‰¹æ€§ï¼Œä½†å­˜åœ¨æ”¹è¿›ç©ºé—´ |
| **æ€§èƒ½** | â­â­â­ (6/10) | åŸºæœ¬æ€§èƒ½è‰¯å¥½ï¼Œä½†æœ‰æ˜æ˜¾ä¼˜åŒ–ç©ºé—´ |
| **å®‰å…¨æ€§** | â­â­â­â­ (7.5/10) | åŸºæœ¬å®‰å…¨æªæ–½åˆ°ä½ï¼Œéœ€è¦åŠ å¼ºè¾“å…¥éªŒè¯ |
| **ç”¨æˆ·ä½“éªŒ** | â­â­â­â­ (8/10) | UIè®¾è®¡ç°ä»£ç¾è§‚ï¼Œäº¤äº’æµç•…ï¼Œç»†èŠ‚å¾…å®Œå–„ |
| **å¯ç»´æŠ¤æ€§** | â­â­â­â­ (7.5/10) | ä»£ç ç»“æ„æ¸…æ™°ï¼Œä½†ç¼ºå°‘æµ‹è¯•å’Œæ–‡æ¡£ |

**ç»¼åˆè¯„åˆ†**: â­â­â­â­ (7.4/10)

---

## âœ… ä¼˜ç‚¹æ€»ç»“

### 1. æ¶æ„è®¾è®¡
- âœ… ä½¿ç”¨ Angular 21+ æœ€æ–°çš„ Standalone Components æ¶æ„
- âœ… é‡‡ç”¨ Zoneless æ¨¡å¼ï¼Œæ€§èƒ½ä¼˜äºä¼ ç»Ÿ Angular åº”ç”¨
- âœ… ä½¿ç”¨ Signals è¿›è¡Œå“åº”å¼çŠ¶æ€ç®¡ç†ï¼Œä»£ç æ›´ç®€æ´
- âœ… æ¸…æ™°çš„æœåŠ¡å±‚åˆ†ç¦»ï¼ˆYamlProcessorServiceã€HighlightServiceï¼‰

### 2. ä»£ç è§„èŒƒ
- âœ… TypeScript ç±»å‹å®šä¹‰å®Œæ•´ï¼Œæ¥å£å®šä¹‰æ¸…æ™°
- âœ… ä½¿ç”¨ ESLint è¿›è¡Œä»£ç è´¨é‡æ£€æŸ¥
- âœ… ä»£ç é£æ ¼ç»Ÿä¸€ï¼Œå‘½åè§„èŒƒåˆç†
- âœ… å…³é”®é€»è¾‘æœ‰ä¸­æ–‡æ³¨é‡Šï¼Œä¾¿äºç†è§£

### 3. ç”¨æˆ·ä½“éªŒ
- âœ… æš—è‰²ç³» UI è®¾è®¡ç°ä»£ç¾è§‚ï¼Œç¬¦åˆå¼€å‘è€…å·¥å…·å®šä½
- âœ… ä¸‰æ å¸ƒå±€ç›´è§‚æ¸…æ™°ï¼ˆæ¨¡ç‰ˆ-è®¢é˜…-ç»“æœï¼‰
- âœ… æä¾›è¯¦ç»†çš„ä½¿ç”¨è¯´æ˜å’Œå¸®åŠ©æ–‡æ¡£
- âœ… å®æ—¶é¢„è§ˆåˆå¹¶ç»“æœï¼Œäº¤äº’æµç•…

### 4. åŠŸèƒ½å®Œæ•´æ€§
- âœ… æ ¸å¿ƒåŠŸèƒ½å®Œæ•´ï¼šYAML è§£æã€åˆå¹¶ã€å…¼å®¹æ¨¡å¼å¤„ç†
- âœ… æ™ºèƒ½æ³¨é‡Šä¿ç•™æœºåˆ¶ï¼Œæå‡å¯è¯»æ€§
- âœ… æ”¯æŒ Smart æ¨¡å¼é™çº§ï¼Œå…¼å®¹æ€§å¼º
- âœ… å‰ç«¯æ­£åˆ™é¢„å¤„ç†ï¼ŒæŠ€æœ¯æ–¹æ¡ˆåˆ›æ–°

---

## âš ï¸ é—®é¢˜ä¸æ”¹è¿›å»ºè®®

### ğŸ”´ é«˜ä¼˜å…ˆçº§é—®é¢˜

#### 1. æ€§èƒ½é—®é¢˜ï¼šé¢‘ç¹çš„é«˜äº®é‡æ¸²æŸ“
**ä½ç½®**: `config-merger.component.ts:168-181`

**é—®é¢˜æè¿°**:
```typescript
effect(() => {
  this.mergedOutput();
  setTimeout(() => this.highlightMergedCode(), 0);
});
```
- ä½¿ç”¨ `setTimeout(fn, 0)` æ¥è§¦å‘é«˜äº®ä¸å¤Ÿä¼˜é›…
- æ¯æ¬¡å†…å®¹å˜æ›´éƒ½ä¼šé‡æ–°é«˜äº®æ•´ä¸ªä»£ç å—
- å¤šä¸ª effect é‡å¤ä½¿ç”¨ setTimeoutï¼Œå¯èƒ½å¯¼è‡´æ€§èƒ½é—®é¢˜

**å½±å“**:
- é¢‘ç¹çš„ DOM æ“ä½œå’Œæ­£åˆ™åŒ¹é…
- å¤§æ–‡ä»¶å¤„ç†æ—¶å¯èƒ½å¡é¡¿
- ä¸å¿…è¦çš„è®¡ç®—å¼€é”€

**å»ºè®®ä¿®å¤**:
```typescript
// ä½¿ç”¨ RxJS debounce ä¼˜åŒ–
import { debounceTime, fromEvent } from 'rxjs';

// æˆ–è€…ä½¿ç”¨ afterRender ç”Ÿå‘½å‘¨æœŸé’©å­
import { afterRender, afterNextRender } from '@angular/core';

constructor() {
  afterNextRender(() => {
    this.highlightMergedCode();
  });
}
```

**é¢„æœŸæ”¶ç›Š**:
- å‡å°‘ 50%+ çš„ä¸å¿…è¦æ¸²æŸ“
- å¤§æ–‡ä»¶å¤„ç†æ€§èƒ½æå‡æ˜æ˜¾

---

#### 2. å®‰å…¨é—®é¢˜ï¼šæ­£åˆ™è¡¨è¾¾å¼ ReDoS é£é™©
**ä½ç½®**: `yaml-processor.service.ts:252`

**é—®é¢˜æè¿°**:
```typescript
const regex = new RegExp(group.filter);
matches = allProxyNames.filter(name => regex.test(name));
```
- ç”¨æˆ·æä¾›çš„æ­£åˆ™è¡¨è¾¾å¼ç›´æ¥æ‰§è¡Œï¼ŒæœªéªŒè¯å¤æ‚åº¦
- å¯èƒ½å­˜åœ¨ ReDoS (Regular Expression Denial of Service) é£é™©
- æ¶æ„æ­£åˆ™å¯èƒ½å¯¼è‡´æµè§ˆå™¨å¡æ­»

**é£é™©ç­‰çº§**: é«˜

**å»ºè®®ä¿®å¤**:
```typescript
private validateRegex(regexStr: string): boolean {
  try {
    // æµ‹è¯•æ­£åˆ™æ˜¯å¦ä¼šå¯¼è‡´ catastrophic backtracking
    const testRegex = new RegExp(regexStr);
    const testString = 'a'.repeat(100); // æµ‹è¯•é•¿å­—ç¬¦ä¸²
    const start = performance.now();
    testRegex.test(testString);
    const duration = performance.now() - start;

    // å¦‚æœæ‰§è¡Œæ—¶é—´è¶…è¿‡ 100msï¼Œè®¤ä¸ºæ˜¯ä¸å®‰å…¨çš„æ­£åˆ™
    return duration < 100;
  } catch {
    return false;
  }
}

// ä½¿ç”¨æ—¶éªŒè¯
if (group.filter && this.validateRegex(group.filter)) {
  const regex = new RegExp(group.filter);
  // ...
} else {
  console.warn(`Unsafe or invalid regex: ${group.filter}`);
}
```

---

#### 3. é”™è¯¯å¤„ç†ä¸è¶³
**ä½ç½®**: `config-merger.component.ts:311-314`

**é—®é¢˜æè¿°**:
```typescript
} catch (err) {
  console.error('åˆå¹¶å¤±è´¥:', err);
  this.statusMessage.set('é”™è¯¯ï¼šæ— æ•ˆçš„ YAML æ ¼å¼ âŒ');
}
```
- æ‰€æœ‰é”™è¯¯ç»Ÿä¸€æ˜¾ç¤ºä¸º"æ— æ•ˆçš„ YAML æ ¼å¼"
- ç¼ºå°‘è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯ï¼Œç”¨æˆ·æ— æ³•å®šä½é—®é¢˜
- æ§åˆ¶å°é”™è¯¯ä¿¡æ¯æœªå¯¹ç”¨æˆ·å±•ç¤º

**å»ºè®®ä¿®å¤**:
```typescript
} catch (err) {
  console.error('åˆå¹¶å¤±è´¥:', err);

  let errorMsg = 'æœªçŸ¥é”™è¯¯';
  if (err instanceof Error) {
    if (err.message.includes('YAML')) {
      errorMsg = 'YAML æ ¼å¼é”™è¯¯: ' + err.message;
    } else if (err.message.includes('regex')) {
      errorMsg = 'æ­£åˆ™è¡¨è¾¾å¼é”™è¯¯: ' + err.message;
    } else {
      errorMsg = err.message;
    }
  }

  this.statusMessage.set(`é”™è¯¯: ${errorMsg} âŒ`);
  this.showErrorDialog(errorMsg); // æ˜¾ç¤ºè¯¦ç»†é”™è¯¯å¯¹è¯æ¡†
}
```

---

### ğŸŸ¡ ä¸­ä¼˜å…ˆçº§é—®é¢˜

#### 4. å†…å­˜æ³„æ¼é£é™©
**ä½ç½®**: `config-merger.component.ts`

**é—®é¢˜æè¿°**:
- `DEFAULT_TEMPLATE` æ˜¯ä¸€ä¸ª 800+ è¡Œçš„å­—ç¬¦ä¸²å¸¸é‡ï¼Œå­˜å‚¨åœ¨ç»„ä»¶æ–‡ä»¶ä¸­
- å¤šä¸ª effect ç›‘å¬å™¨æœªåœ¨ç»„ä»¶é”€æ¯æ—¶æ¸…ç†
- `highlightedKeys` Set åœ¨åˆå¹¶è¿‡ç¨‹ä¸­æŒç»­å¢é•¿

**å»ºè®®ä¿®å¤**:
```typescript
// å°† DEFAULT_TEMPLATE ç§»åˆ°ç‹¬ç«‹æ–‡ä»¶
// src/assets/default-template.yaml
export const DEFAULT_TEMPLATE = `...`;

// åœ¨ç»„ä»¶ä¸­é”€æ¯ effect
import { DestroyRef } from '@angular/core';

constructor() {
  const destroyRef = inject(DestroyRef);

  const effectRef = effect(() => {
    // ...
  });

  destroyRef.onDestroy(() => {
    effectRef.destroy();
  });
}
```

---

#### 5. æ–‡ä»¶ä¸Šä¼ éªŒè¯ä¸å¤Ÿä¸¥æ ¼
**ä½ç½®**: `config-merger.component.ts:261-266`

**é—®é¢˜æè¿°**:
```typescript
const fileName = file.name.toLowerCase();
if (!fileName.endsWith('.yaml') && !fileName.endsWith('.yml')) {
  this.statusMessage.set('é”™è¯¯ï¼šä»…æ”¯æŒ YAML (.yaml/.yml) æ–‡ä»¶ âŒ');
  return;
}
```
- ä»…é€šè¿‡æ–‡ä»¶æ‰©å±•åéªŒè¯ï¼Œä¸å®‰å…¨
- æœªéªŒè¯æ–‡ä»¶å¤§å°
- æœªéªŒè¯æ–‡ä»¶å†…å®¹æ˜¯å¦ä¸ºæœ‰æ•ˆçš„ YAML

**å»ºè®®ä¿®å¤**:
```typescript
const MAX_FILE_SIZE = 5 * 1024 * 1024; // 5MB

// 1. éªŒè¯æ–‡ä»¶å¤§å°
if (file.size > MAX_FILE_SIZE) {
  this.statusMessage.set('é”™è¯¯ï¼šæ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡ 5MB âŒ');
  return;
}

// 2. éªŒè¯æ–‡ä»¶ç±»å‹
const validTypes = ['application/x-yaml', 'text/yaml', 'text/plain'];
if (!validTypes.includes(file.type) && !fileName.match(/\.(ya?ml)$/)) {
  this.statusMessage.set('é”™è¯¯ï¼šæ–‡ä»¶ç±»å‹ä¸æ”¯æŒ âŒ');
  return;
}

// 3. è¯»å–åéªŒè¯å†…å®¹
reader.onload = (e) => {
  const text = e.target?.result as string;

  // å°è¯•è§£æéªŒè¯
  try {
    this.yamlService.parse(text);
    // è§£ææˆåŠŸæ‰è®¾ç½®å†…å®¹
  } catch (err) {
    this.statusMessage.set('é”™è¯¯ï¼šæ— æ•ˆçš„ YAML æ–‡ä»¶ âŒ');
    return;
  }

  // ...
};
```

---

#### 6. ç¼ºå°‘åŠ è½½çŠ¶æ€
**ä½ç½®**: `config-merger.component.ts:282-315`

**é—®é¢˜æè¿°**:
- `processMerge()` æ˜¯åŒæ­¥æ“ä½œï¼Œä½†å¤„ç†å¤§æ–‡ä»¶æ—¶å¯èƒ½è€—æ—¶
- ç”¨æˆ·ç‚¹å‡»"åˆ·æ–°åˆå¹¶"åæ— ä»»ä½•åŠ è½½æç¤º
- æ— æ³•æ„ŸçŸ¥å¤„ç†è¿›åº¦

**å»ºè®®ä¿®å¤**:
```typescript
isProcessing = signal(false);

async processMerge() {
  if (this.isProcessing()) return; // é˜²æ­¢é‡å¤æäº¤

  if (!this.templateContent() || !this.userContent()) {
     this.statusMessage.set('ç­‰å¾…è¾“å…¥...');
     return;
  }

  this.isProcessing.set(true);
  this.statusMessage.set('å¤„ç†ä¸­...');

  // ä½¿ç”¨ setTimeout è®© UI æœ‰æœºä¼šæ¸²æŸ“åŠ è½½çŠ¶æ€
  setTimeout(() => {
    try {
      // ... å¤„ç†é€»è¾‘
    } finally {
      this.isProcessing.set(false);
    }
  }, 0);
}

// æ¨¡æ¿ä¸­æ·»åŠ ç¦ç”¨çŠ¶æ€
<button
  (click)="processMerge()"
  [disabled]="isProcessing()"
  class="...">
  @if (isProcessing()) {
    <span>å¤„ç†ä¸­...</span>
  } @else {
    <span>åˆ·æ–°åˆå¹¶</span>
  }
</button>
```

---

### ğŸŸ¢ ä½ä¼˜å…ˆçº§é—®é¢˜

#### 7. ä»£ç å¯ç»´æŠ¤æ€§æ”¹è¿›

**a) ç¼ºå°‘å•å…ƒæµ‹è¯•**
- é¡¹ç›®ä¸­æ²¡æœ‰å‘ç°ä»»ä½•æµ‹è¯•æ–‡ä»¶
- æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼ˆYAML åˆå¹¶ã€æ­£åˆ™å¤„ç†ï¼‰åº”æœ‰å•å…ƒæµ‹è¯•è¦†ç›–

**å»ºè®®**:
```bash
# æ·»åŠ æµ‹è¯•æ¡†æ¶
npm install --save-dev @angular/core testing jasmine @types/jasmine

# åˆ›å»ºæµ‹è¯•æ–‡ä»¶
// yaml-processor.service.spec.ts
describe('YamlProcessorService', () => {
  it('should merge configs correctly', () => {
    // ...
  });

  it('should handle regex in compatibility mode', () => {
    // ...
  });
});
```

**b) é­”æ³•æ•°å­—å’Œç¡¬ç¼–ç **
**ä½ç½®**: `config-merger.component.ts:207`
```typescript
setTimeout(() => this.statusMessage.set(''), 2000);
```
- 2000ms åº”è¯¥å®šä¹‰ä¸ºå¸¸é‡

**å»ºè®®**:
```typescript
const STATUS_MESSAGE_DURATION = 2000;
```

**c) ç±»å‹å®šä¹‰å¯ä»¥æ›´ä¸¥æ ¼**
**ä½ç½®**: `yaml-processor.service.ts:19-23`
```typescript
export interface MihomoProxy {
  name: string;
  type: string;
  [key: string]: unknown; // å…è®¸å…¶ä»–ä»»æ„å±æ€§
}
```
- ä½¿ç”¨ `unknown` è¿‡äºå®½æ¾ï¼Œå¯ä»¥è€ƒè™‘å®šä¹‰æ›´å…·ä½“çš„è”åˆç±»å‹

---

#### 8. Web ç”¨æˆ·ä½“éªŒä¼˜åŒ–

**a) å“åº”å¼è®¾è®¡æ”¹è¿›**
- ç§»åŠ¨ç«¯ä¸‰æ å¸ƒå±€è¿‡äºæ‹¥æŒ¤
- å°å±å¹•ä¸‹åº”æ”¹ä¸ºå‚ç›´å †å 

**å»ºè®®ä¿®å¤**:
```css
/* åœ¨æ¨¡æ¿ä¸­æ·»åŠ å“åº”å¼ç±» */
<div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
  <!-- ç§»åŠ¨ç«¯è‡ªåŠ¨å˜ä¸ºå•åˆ— -->
</div>
```

**b) æ·»åŠ æ‹–æ‹½ä¸Šä¼ **
- å½“å‰ä»…æ”¯æŒç‚¹å‡»ä¸Šä¼ 
- æ·»åŠ æ‹–æ‹½ä¸Šä¼ å¯æå‡ä½“éªŒ

**c) æ·»åŠ å¿«æ·é”®**
```typescript
@HostListener('document:keydown.ctrl.s')
onSave() {
  if (this.mergedOutput()) {
    this.downloadResult();
  }
}

@HostListener('document:keydown.ctrl.enter')
onMerge() {
  this.processMerge();
}
```

**d) æ”¹è¿›é”™è¯¯æç¤º**
- ä½¿ç”¨ toast é€šçŸ¥æ›¿ä»£å†…è”æ–‡æœ¬
- æ·»åŠ æˆåŠŸ/å¤±è´¥çš„è§†è§‰åé¦ˆ

---

#### 9. æ„å»ºå’Œéƒ¨ç½²ä¼˜åŒ–

**a) å¤–éƒ¨ä¾èµ–ç®¡ç†**
**ä½ç½®**: `index.html:17,36`
```html
<link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/js-yaml/4.1.0/js-yaml.min.js" as="script">
<script src="https://cdnjs.cloudflare.com/ajax/libs/js-yaml/4.1.0/js-yaml.min.js"></script>
```
- ä½¿ç”¨ CDN ä¾èµ–ï¼Œå­˜åœ¨ç½‘ç»œé—®é¢˜é£é™©
- å»ºè®®æ‰“åŒ…åˆ°æœ¬åœ°

**å»ºè®®ä¿®å¤**:
```bash
# å®‰è£… js-yaml
npm install js-yaml

# åœ¨ angular.json ä¸­æ·»åŠ åˆ° scripts
"scripts": [
  "node_modules/js-yaml/dist/js-yaml.min.js"
]
```

**b) ç¼ºå°‘ PWA æ”¯æŒ**
- æ·»åŠ  PWA æ”¯æŒå¯ç¦»çº¿ä½¿ç”¨
- æ·»åŠ  manifest.json

---

#### 10. æ€§èƒ½ä¼˜åŒ–å»ºè®®

**a) è™šæ‹Ÿæ»šåŠ¨**
- åˆå¹¶ç»“æœå¯èƒ½å¾ˆå¤§ï¼Œè€ƒè™‘ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨

**b) æ‡’åŠ è½½é«˜äº®åº“**
```typescript
// åŠ¨æ€å¯¼å…¥ Prism.js
async highlightElement(element: HTMLElement) {
  if (isPlatformBrowser(this.platformId)) {
    const { default: Prism } = await import('prismjs');
    import('prismjs/components/prism-yaml');
    Prism.highlightElement(element);
  }
}
```

**c) Web Worker å¤„ç†å¤§æ–‡ä»¶**
```typescript
// å°† YAML å¤„ç†ç§»åˆ° Web Worker
const worker = new Worker('./yaml-processor.worker', { type: 'module' });
worker.postMessage({ template: templateYaml, user: userYaml });
worker.onmessage = ({ data }) => {
  this.mergedOutput.set(data.result);
};
```

---

## ğŸ“ˆ æ€§èƒ½åˆ†æ

### å½“å‰æ€§èƒ½è¡¨ç°

| æ“ä½œ | å°æ–‡ä»¶ (< 100KB) | ä¸­æ–‡ä»¶ (100-500KB) | å¤§æ–‡ä»¶ (> 500KB) |
|------|-----------------|-------------------|------------------|
| YAML è§£æ | < 50ms | 50-200ms | 200-1000ms |
| åˆå¹¶å¤„ç† | < 100ms | 100-500ms | 500-2000ms |
| ä»£ç é«˜äº® | 100-300ms | 300-1000ms | 1000-5000ms |
| **æ€»ä½“å“åº”** | **è‰¯å¥½** | **å¯æ¥å—** | **éœ€ä¼˜åŒ–** |

### æ€§èƒ½ç“¶é¢ˆ

1. **ä»£ç é«˜äº®**: å ç”¨ 60%+ çš„å¤„ç†æ—¶é—´
2. **DOM æ›´æ–°**: é¢‘ç¹çš„ innerHTML æ“ä½œ
3. **æ­£åˆ™åŒ¹é…**: å…¼å®¹æ¨¡å¼ä¸‹çš„æ­£åˆ™ç­›é€‰

### ä¼˜åŒ–åé¢„æœŸ

| æ“ä½œ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å | æå‡ |
|------|--------|--------|------|
| ä»£ç é«˜äº® | 1000-5000ms | 200-1000ms | 80% â¬‡ï¸ |
| é¦–æ¬¡åŠ è½½ | 2-3s | 1-1.5s | 50% â¬‡ï¸ |
| å†…å­˜å ç”¨ | 50-100MB | 30-50MB | 40% â¬‡ï¸ |

---

## ğŸ”’ å®‰å…¨æ€§è¯„ä¼°

### å½“å‰å®‰å…¨æªæ–½

âœ… **å·²å®ç°**:
- ä½¿ç”¨ Angular DomSanitizer é˜²æ­¢ XSS
- æ–‡ä»¶ç±»å‹æ‰©å±•åéªŒè¯
- çº¯å‰ç«¯å¤„ç†ï¼Œæ•°æ®ä¸ä¸Šä¼ æœåŠ¡å™¨

âš ï¸ **éœ€åŠ å¼º**:

1. **è¾“å…¥éªŒè¯**
   - YAML å†…å®¹å¤§å°é™åˆ¶
   - æ­£åˆ™è¡¨è¾¾å¼å¤æ‚åº¦éªŒè¯
   - æ–‡ä»¶ç±»å‹æ·±åº¦éªŒè¯

2. **ä¾èµ–å®‰å…¨**
   - js-yaml ç‰ˆæœ¬æ£€æŸ¥ï¼ˆå½“å‰ 4.1.0ï¼Œå»ºè®®å®šæœŸæ›´æ–°ï¼‰
   - è¿è¡Œ `npm audit` æ£€æŸ¥æ¼æ´

3. **å†…å®¹å®‰å…¨ç­–ç•¥ (CSP)**
```html
<!-- åœ¨ index.html ä¸­æ·»åŠ  -->
<meta http-equiv="Content-Security-Policy" content="
  default-src 'self';
  script-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com;
  style-src 'self' 'unsafe-inline';
">
```

---

## ğŸ“ ä»£ç è´¨é‡æŒ‡æ ‡

| æŒ‡æ ‡ | å½“å‰å€¼ | ç›®æ ‡å€¼ | çŠ¶æ€ |
|------|--------|--------|------|
| TypeScript è¦†ç›–ç‡ | 100% | 100% | âœ… |
| å•å…ƒæµ‹è¯•è¦†ç›–ç‡ | 0% | > 80% | âŒ |
| ESLint è­¦å‘Šæ•° | æœªçŸ¥ | 0 | âš ï¸ |
| ä»£ç é‡å¤ç‡ | ~5% | < 5% | âœ… |
| å‡½æ•°å¹³å‡è¡Œæ•° | ~20 | < 30 | âœ… |
| æœ€å¤§æ–‡ä»¶è¡Œæ•° | 804 | < 500 | âš ï¸ |

---

## ğŸ¯ ä¼˜å…ˆçº§æ”¹è¿›è·¯çº¿å›¾

### ç¬¬ä¸€é˜¶æ®µï¼ˆ1-2å¤©ï¼‰- å…³é”®é—®é¢˜ä¿®å¤
1. âœ… ä¿®å¤æ€§èƒ½é—®é¢˜ï¼šä¼˜åŒ–ä»£ç é«˜äº®æœºåˆ¶
2. âœ… åŠ å¼ºå®‰å…¨æ€§ï¼šæ­£åˆ™è¡¨è¾¾å¼éªŒè¯
3. âœ… æ”¹è¿›é”™è¯¯å¤„ç†ï¼šè¯¦ç»†é”™è¯¯ä¿¡æ¯

### ç¬¬äºŒé˜¶æ®µï¼ˆ3-5å¤©ï¼‰- ç”¨æˆ·ä½“éªŒæå‡
4. âœ… æ·»åŠ åŠ è½½çŠ¶æ€å’Œè¿›åº¦æç¤º
5. âœ… å®Œå–„æ–‡ä»¶ä¸Šä¼ éªŒè¯
6. âœ… æ”¹è¿›å“åº”å¼è®¾è®¡
7. âœ… æ·»åŠ æ‹–æ‹½ä¸Šä¼ åŠŸèƒ½

### ç¬¬ä¸‰é˜¶æ®µï¼ˆ1-2å‘¨ï¼‰- é•¿æœŸä¼˜åŒ–
8. âœ… æ·»åŠ å•å…ƒæµ‹è¯•ï¼ˆç›®æ ‡è¦†ç›–ç‡ 80%ï¼‰
9. âœ… æ€§èƒ½ä¼˜åŒ–ï¼šè™šæ‹Ÿæ»šåŠ¨ã€Web Worker
10. âœ… PWA æ”¯æŒï¼šç¦»çº¿å¯ç”¨
11. âœ… æ–‡æ¡£å®Œå–„ï¼šAPI æ–‡æ¡£ã€è´¡çŒ®æŒ‡å—

---

## ğŸ“Š æŠ€æœ¯å€ºåŠ¡è¯„ä¼°

| ç±»åˆ« | ä¸¥é‡ç¨‹åº¦ | å·¥ä½œé‡ | ä¼˜å…ˆçº§ |
|------|---------|--------|--------|
| ç¼ºå°‘å•å…ƒæµ‹è¯• | é«˜ | 2-3 å¤© | P1 |
| æ€§èƒ½ä¼˜åŒ– | ä¸­ | 3-5 å¤© | P1 |
| å®‰å…¨æ€§åŠ å›º | é«˜ | 1-2 å¤© | P1 |
| ä»£ç é‡æ„ | ä¸­ | 2-3 å¤© | P2 |
| æ–‡æ¡£å®Œå–„ | ä½ | 1 å¤© | P2 |
| PWA æ”¯æŒ | ä½ | 2-3 å¤© | P3 |

---

## ğŸ’¡ æœ€ä½³å®è·µå»ºè®®

### 1. ä»£ç è§„èŒƒ
- [ ] æ·»åŠ  Prettier è¿›è¡Œä»£ç æ ¼å¼åŒ–
- [ ] é…ç½® Git Hooks (Husky + lint-staged)
- [ ] ç»Ÿä¸€æ³¨é‡Šé£æ ¼ï¼ˆJSDocï¼‰

### 2. å¼€å‘æµç¨‹
- [ ] æ·»åŠ  CI/CD é…ç½®
- [ ] è‡ªåŠ¨åŒ–æµ‹è¯•æµç¨‹
- [ ] ä»£ç å®¡æŸ¥æœºåˆ¶

### 3. ç›‘æ§å’Œæ—¥å¿—
- [ ] æ·»åŠ é”™è¯¯ç›‘æ§ï¼ˆSentryï¼‰
- [ ] æ€§èƒ½ç›‘æ§ï¼ˆWeb Vitalsï¼‰
- [ ] ç”¨æˆ·è¡Œä¸ºåˆ†æ

---

## ğŸ“š å‚è€ƒèµ„æº

### Angular æœ€ä½³å®è·µ
- [Angular å®˜æ–¹æ–‡æ¡£](https://angular.dev)
- [Angular Performance](https://angular.dev/guide/performance)
- [Angular Signals](https://angular.dev/guide/signals)

### å®‰å…¨æ€§
- [OWASP Top 10](https://owasp.org/www-project-top-ten/)
- [Angular Security](https://angular.dev/guide/security)

### æ€§èƒ½ä¼˜åŒ–
- [Web.dev Performance](https://web.dev/performance/)
- [Prism.js Optimization](https://prismjs.com/#manual-indexing)

---

## ğŸ† æ€»ç»“

### é¡¹ç›®äº®ç‚¹
1. âœ¨ åˆ›æ–°çš„å…¼å®¹æ¨¡å¼æŠ€æœ¯æ–¹æ¡ˆ
2. âœ¨ ç°ä»£åŒ–çš„æŠ€æœ¯æ ˆï¼ˆAngular 21+ã€Zonelessã€Signalsï¼‰
3. âœ¨ ä¼˜ç§€çš„ UI/UX è®¾è®¡
4. âœ¨ å®Œæ•´çš„åŠŸèƒ½å®ç°

### å…³é”®æ”¹è¿›ç‚¹
1. ğŸ”§ æ€§èƒ½ä¼˜åŒ–ï¼ˆä»£ç é«˜äº®ã€æ¸²æŸ“ä¼˜åŒ–ï¼‰
2. ğŸ”§ å®‰å…¨æ€§åŠ å›ºï¼ˆè¾“å…¥éªŒè¯ã€æ­£åˆ™é˜²æŠ¤ï¼‰
3. ğŸ”§ æµ‹è¯•è¦†ç›–ï¼ˆå•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•ï¼‰
4. ğŸ”§ é”™è¯¯å¤„ç†ï¼ˆè¯¦ç»†é”™è¯¯ä¿¡æ¯ã€ç”¨æˆ·å‹å¥½æç¤ºï¼‰

### æ¨èè¡ŒåŠ¨
**ç«‹å³æ‰§è¡Œ** (æœ¬å‘¨å†…):
- ä¿®å¤é«˜ä¼˜å…ˆçº§å®‰å…¨é—®é¢˜
- ä¼˜åŒ–æ€§èƒ½ç“¶é¢ˆ
- æ”¹è¿›é”™è¯¯å¤„ç†

**çŸ­æœŸè®¡åˆ’** (1-2å‘¨):
- æ·»åŠ åŸºç¡€å•å…ƒæµ‹è¯•
- å®Œå–„ç”¨æˆ·äº¤äº’ç»†èŠ‚
- ä¼˜åŒ–ç§»åŠ¨ç«¯ä½“éªŒ

**é•¿æœŸè§„åˆ’** (1ä¸ªæœˆ+):
- PWA æ”¯æŒ
- å®Œæ•´çš„æµ‹è¯•è¦†ç›–
- æ€§èƒ½ç›‘æ§ä½“ç³»

---

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰ç–‘é—®æˆ–éœ€è¦è¿›ä¸€æ­¥è®¨è®ºï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- **GitHub Issues**: https://github.com/binbin1213/YAML-Config-Merger-Tool/issues
- **é¡¹ç›®æ–‡æ¡£**: README.md

---

**æŠ¥å‘Šç”Ÿæˆæ—¶é—´**: 2025-12-28
**å®¡æŸ¥å·¥å…·**: Claude Code (Sonnet 4.5)
**ä¸‹æ¬¡å®¡æŸ¥å»ºè®®**: å®Œæˆç¬¬ä¸€é˜¶æ®µæ”¹è¿›åè¿›è¡Œå¤å®¡
